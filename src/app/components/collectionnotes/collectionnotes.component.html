<div fxLayout="row wrap" fxLayoutGap="20px" fxLayoutAlign="start" class="layout">
  <div *ngFor='let index of cardadded | LockFilter:inputData ; trackBy:index?.noteId'>
    <div [ngClass]="{'grid':!toggle,'list':toggle}">
      <mat-card class="cardsize" [style.backgroundColor]="index.color">
        <app-pin class="pin" [pinArr]="index" (pinEmit)="new($event)"></app-pin>
        <mat-card-title (click)="openDialog(index)">
          <div [innerHtml]="index.title"></div>
        </mat-card-title>
        <mat-card-content (click)="openDialog(index)">
          <div [innerHtml]="index.description"></div>
        </mat-card-content>



        <div *ngFor="let checklist of index.noteCheckLists" fxLayout="row">
          <mat-checkbox fxFlex="10%" *ngIf="checklist.status=='open'&& !checklist.isDeleted" (click)=checkBox(checklist,index)></mat-checkbox>
          <input class="check" *ngIf="!checklist.isDeleted && checklist.status=='open' " [(ngModel)]=checklist.itemName
            fxFlex="90%" (click)="open(index)" [style.backgroundColor]="index.color">
        </div>

        <div *ngFor="let checklist of index.noteCheckLists" fxLayout="row">
          <mat-checkbox fxFlex="10%" checked=true *ngIf="checklist.status=='close'&& !checklist.isDeleted" (click)=checkBox(checklist,index)></mat-checkbox>
          <del class="check" *ngIf="!checklist.isDeleted && checklist.status=='close'" (click)="open(index)">{{checklist.itemName}}</del>
        </div>

        <div fxLayout="row wrap" fxLayoutGap="5px">
          <div *ngFor="let items of index.noteLabels">
            <div *ngIf="items.isDeleted == false">
              <mat-chip-list selected>
                <mat-chip (click)="goToLabel(items)">{{items.label}}
                  <mat-icon matChipRemove (click)="removeLabel(items.id, index.id)">
                    cancel</mat-icon>
                </mat-chip>
              </mat-chip-list>
            </div>
          </div>
        </div>

        <div *ngIf="remiderCutOff(index.reminder[0])">
          <div *ngIf="index.reminder.length!=0">
            <div *ngFor="let remin  of index.reminder">
              <mat-chip-list class="chip">
                <mat-chip class="chip_color">
                  <mat-icon (click)="removeReminder(notes.id)">query_builder</mat-icon>{{remin | date:'medium'}}
                  <mat-icon (click)="$event.stopPropagation(); removeReminder(index.id)">
                    cancel</mat-icon>
                </mat-chip>
              </mat-chip-list>
            </div>
          </div>
        </div>

        <div *ngIf="!remiderCutOff(index.reminder[0])">
          <div *ngIf="index.reminder.length!=0">
            <div *ngFor="let remin  of index.reminder">
              <mat-chip-list class="chip">
                <mat-chip class="chip_color">
                  <mat-icon (click)="removeReminder(notes.id)">query_builder</mat-icon><del>{{remin | date:'medium'}}</del>
                  <mat-icon (click)="$event.stopPropagation(); removeReminder(index.id)">
                    cancel</mat-icon>
                </mat-chip>
              </mat-chip-list>
            </div>
          </div>
        </div>


        <div fxLayout="row" fxLayoutAlign="center center">

          <app-remind (reminderEmit)=new($event) class="space" [reminder]="index"></app-remind>
          <app-collaborator class="space"></app-collaborator>
          <app-changecolor class="space" [color]="index" (colorEvent)=new($event)>
          </app-changecolor>
          <app-addimage class="space"></app-addimage>
          <app-archives class="space" [archive]="index" (archiveEvent)=new($event)>
          </app-archives>
          <app-more class="space" [carddel]="index" (deleteevent)=new($event)>
          </app-more>

        </div>

      </mat-card>
    </div>
  </div>